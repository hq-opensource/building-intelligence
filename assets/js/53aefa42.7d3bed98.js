"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6964],{8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},9675:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Data Engine/events","title":"Events","description":"The data_engine.events package is responsible for handling event-driven communication within the data engine. It provides modules that manage asynchronous interactions, such as handling RPC (Remote Procedure Call) requests and responses, which are crucial for the distributed nature of the system.","source":"@site/docs/Data Engine/events.md","sourceDirName":"Data Engine","slug":"/Data Engine/events","permalink":"/building-intelligence/docs/Data Engine/events","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"events","title":"Events","sidebar_label":"Events"},"sidebar":"tutorialSidebar","previous":{"title":"Device","permalink":"/building-intelligence/docs/Data Engine/device"},"next":{"title":"Forecaster","permalink":"/building-intelligence/docs/Data Engine/forecaster"}}');var i=s(4848),r=s(8453);const a={id:"events",title:"Events",sidebar_label:"Events"},o=void 0,c={},l=[{value:"Forecaster RPC Answer",id:"forecaster-rpc-answer",level:2},{value:"Key Responsibilities:",id:"key-responsibilities",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"data_engine.events"})," package is responsible for handling event-driven communication within the data engine. It provides modules that manage asynchronous interactions, such as handling RPC (Remote Procedure Call) requests and responses, which are crucial for the distributed nature of the system."]}),"\n",(0,i.jsx)(n.h2,{id:"forecaster-rpc-answer",children:"Forecaster RPC Answer"}),"\n",(0,i.jsx)(n.p,{children:"This module is dedicated to managing forecast-related RPCs. It subscribes to forecast request topics, processes incoming messages, and coordinates the retrieval of cached or newly computed forecasts. The module integrates with InfluxDB for data retrieval and Redis for caching and message brokering, ensuring efficient and reliable forecast delivery."}),"\n",(0,i.jsx)(n.h3,{id:"key-responsibilities",children:"Key Responsibilities:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"RPC Handling"}),": Manages RPC (Remote Procedure Call) answers for forecaster requests."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscription to Topics"}),": Subscribes to forecast request topics using a Redis-based event broker (",(0,i.jsx)(n.code,{children:"FastStream"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Processing"}),": Handles incoming requests for non-controllable load forecasts."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Caching Mechanism"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Checks for a cached forecast in Redis that matches the request parameters (start, stop, interval)."}),"\n",(0,i.jsx)(n.li,{children:"If a valid cache exists, it returns the cached data to avoid re-computation."}),"\n",(0,i.jsx)(n.li,{children:"If no valid cache is found, it proceeds to compute a new forecast."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Forecast Computation"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Utilizes the ",(0,i.jsx)(n.code,{children:"ForecastRetriever"})," to compute new forecasts when a cached version is unavailable or outdated."]}),"\n",(0,i.jsx)(n.li,{children:"Saves the newly computed forecast to the Redis cache with an expiration time (e.g., 24 hours)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Integration"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Connects to InfluxDB for retrieving the necessary data for forecasting."}),"\n",(0,i.jsx)(n.li,{children:"Uses a Redis client for both caching and as a message broker."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Logging"}),": Provides detailed logging for received requests, cache status (hit or miss), and the source of the returned forecast (cached or newly computed)."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);